---
title: "長庚大學 大數據分析方法 作業三"
output: github_document
---

## 作業說明 （繳交時請直接刪除這個章節）

作業目的：練習初級爬蟲，並將爬蟲結果整理成資料框data.frame

依下列指示，完成網站內文分析：

- 爬取指定網站內容

    - 學號結尾 1,5,9:[Ptt NBA 版](https://www.ptt.cc/bbs/NBA/index.html)

    
- 試著爬出**至少100篇**文章（`30pt`）的**標題**、**推文數**與**作者ID**（各`10pt`）
    - 資料框欄位名稱：
        - **標題**：Title
        - **推文數**：PushNum
        - **作者ID**：Author
    - 一頁只有20篇，該怎麼辦？
        - 提示：使用for + rbind()將分批爬取出的資料結合
        - 範例：dataframeAll<-rbind(dataframe1,dataframe2) 
        - 參考：[6.6 資料組合](http://yijutseng.github.io/DataScienceRBook/manipulation.html#section-6.6)
    
- 將爬取出的資料輸出至Markdown報告中（`10pt`）
    - 使用knitr::kable(資料框物件)整理輸出
    
- 用文字搭配程式碼解釋爬蟲結果 
    - 共爬出幾篇文章標題？（程式碼與文字解釋各`5pt`）
        - dim(), nrow(), str()皆可
    - 哪個作者文章數最多？（程式碼與文字解釋各`5pt`）
        - table()
    - 其他爬蟲結果解釋（`10pt`）
        - 試著找出有趣的現象，不一定要用程式碼搭配解釋，也可只用文字

    

## 網站資料爬取
```{r}
library(rvest) ##第一次使用要先安裝 install.packages("rvest")
##read_html
##html_nodes
##html_text
NBA_posts_list <- list()
for(i in 4580:4584){
NBAurl<-paste("https://www.ptt.cc/bbs/NBA/index",i,".html",sep = '')
NBAContent<-read_html(NBAurl)

post_Title <- NBAContent %>%
html_nodes(".title") %>% 
html_text()

post_PushNum <-NBAContent %>%
html_nodes(".nrec")%>%
html_text()

post_Author<-NBAContent%>%
html_nodes(".author")%>%
html_text()

data<-data.frame(title=post_Title,PushNum=post_PushNum,Author=post_Author)
NBA_posts_list[[i]] <- data
}
NBA_dataframe<- rbind(NBA_posts_list[[4580]],NBA_posts_list[[4581]],NBA_posts_list[[4582]],NBA_posts_list[[4583]],NBA_posts_list[[4584]])
```
## 爬蟲結果呈現
```{r}
knitr::kable(NBA_dataframe)
```

## 解釋爬蟲結果 
```{r}
nrow(NBA_dataframe)
```

總共有幾列
就是有幾篇文章標題
總共100篇

```{r}
sort(table(NBA_dataframe[3]),decreasing =TRUE)
```

Rambo最多總共22篇
Rambo在NBA板上主要是處理Live以及Box情報 所以文章數最多


